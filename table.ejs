<div class="container">
  <div class="table-responsive">
    <table id="issuesTable" class="table table-striped table-bordered" style="width:100%">
      <thead>
        <tr>
          <th>Created Date</th>
          <th>Created Time</th>
          <th>Area</th>
          <th>Alert Status</th>
          <th>Country</th>
          <th>Stopped</th>
          <th>Alert Type</th>
          <th>Sub Station</th>
          <th>Active</th>
          <th>Tool</th>
          <th>Building</th>
          <th>Site</th>
          <th>Source Type</th>
          <th>Company</th>
          <th>Details</th>
          <th>Department</th>
          <th>Station ID</th>
          <th>Updated Date</th>
          <th>Updated Time</th>
          <th>Start Date</th>
          <th>Start Time</th>
          <th>End Date</th>
          <th>End Time</th>
          <th>Time Difference (mins)</th>
        </tr>
      </thead>
      <tbody>
        <% issues.forEach(issue => { %>
          <tr>
            <td><%= new Date(issue.createdAt).toLocaleDateString() %></td>
            <td><%= new Date(issue.createdAt).toLocaleTimeString() %></td>
            <td><%= issue.area %></td>
            <td><%= issue.alertStatus %></td>
            <td><%= issue.country %></td>
            <td><%= issue.stopped %></td>
            <td><%= issue.alertType %></td>
            <td><%= issue.subStation %></td>
            <td><%= issue.active %></td>
            <td><%= issue.tool %></td>
            <td><%= issue.building %></td>
            <td><%= issue.site %></td>
            <td><%= issue.sourceType %></td>
            <td><%= issue.company %></td>
            <td><%= issue.details %></td>
            <td><%= issue.department %></td>
            <td><%= issue.stationID %></td>
            <td><%= new Date(issue.updatedAt).toLocaleDateString() %></td>
            <td><%= new Date(issue.updatedAt).toLocaleTimeString() %></td>
            <td><%= new Date(issue.startTime).toLocaleDateString() %></td>
            <td><%= new Date(issue.startTime).toLocaleTimeString() %></td>
            <td><%= new Date(issue.endTime).toLocaleDateString() %></td>
            <td><%= new Date(issue.endTime).toLocaleTimeString() %></td>
            <td style="color: <%= issue.timeDiff <= 2 ? 'yellow' : issue.timeDiff <= 5 ? 'orange' : 'red' %>">
              <%= issue.timeDiff.toFixed(2) %>
            </td>
          </tr>
        <% }); %>
      </tbody>
    </table>
  </div>
</div>
